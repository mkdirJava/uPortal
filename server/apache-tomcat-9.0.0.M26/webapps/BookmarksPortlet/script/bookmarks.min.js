var bookmarkPortletsData=init();function init(){if(typeof bookmarkPortletsData=="undefined"){return new Array()}else{return bookmarkPortletsData}}function BookmarksPortletData(k,e,S,Z,C,X,g,J,a,V,T,E,h,m,I,H,f,G,N,n,L,Q,l,D,M,R,q,U,O,Y,j,B,c,b,d,K,i,P,W,p,A,o,r){this.namespace=k;this.bookmark_form_newWindow=e;this.bookmark_form_url=S;this.bookmark_forms_empty=Z;this.bookmark_forms_error=C;this.bookmark_reference_url=X;this.bookmarksTreeAndForm=g;this.entry_childFolderPrefix=J;this.entry_edit_cancelLink=a;this.entry_edit_editLink=V;this.entry_form_action=T;this.entry_form_action_editBookmark=E;this.entry_form_action_editFolder=h;this.entry_form_action_editCollection=m;this.entry_form_action_newBookmark=I;this.entry_form_action_newFolder=H;this.entry_form_action_newCollection=f;this.entry_form_folderPath=G;this.entry_form_folderPathLabel=N;this.entry_form_idPath=n;this.entry_form_name=L;this.entry_form_note=Q;this.entry_imagePrefix=l;this.entry_reference_folderPath=D;this.entry_reference_name=M;this.entry_reference_note=R;this.collection_form_url=j;this.collection_forms_empty=B;this.collection_forms_error=c;this.folder_forms_empty=q;this.folder_forms_error=U;this.folder_image_closed=O;this.folder_image_open=Y;this.options_form=b;this.options_showLink=d;this.messages_folder_create=K;this.messages_folder_move=i;this.messages_delete_bookmark_prefix=P;this.messages_delete_bookmark_suffix=W;this.messages_delete_folder_prefix=p;this.messages_delete_folder_suffix=A;this.messages_delete_collection_prefix=o;this.messages_delete_collection_suffix=r;function F(){var s="BookmarksPortletData[";var u=false;for(var t in this){u=true;if((this[t]+"").indexOf("function ")!=0){s+=t+"="+this[t]+", "}}if(u){s=s.substring(0,s.length-2)}s+="]";return s}this.toString=F;bookmarkPortletsData[k]=this}function showOptionsForm(A){resetForm(A,bookmarkPortletsData[A].options_form);hideElement(A,bookmarkPortletsData[A].bookmarksTreeAndForm);hideElement(A,bookmarkPortletsData[A].options_showLink);showForm(A,bookmarkPortletsData[A].options_form)}function cancelOptionsForm(B,A){hideElement(B,A);showElementBlock(B,bookmarkPortletsData[B].bookmarksTreeAndForm);showElementInline(B,bookmarkPortletsData[B].options_showLink);resetForm(B,A)}function toggleFolder(B,D,A){var C=getNamespacedElement(B,bookmarkPortletsData[B].entry_imagePrefix+D);if(isElementHidden(B,bookmarkPortletsData[B].entry_childFolderPrefix+D)){showElementBlock(B,bookmarkPortletsData[B].entry_childFolderPrefix+D);C.src=A+bookmarkPortletsData[B].folder_image_open}else{hideElement(B,bookmarkPortletsData[B].entry_childFolderPrefix+D);C.src=A+bookmarkPortletsData[B].folder_image_closed}}function hideEditMode(B){var C=document.getElementsByName(B+"entryEditButtons");for(var A=0;A<C.length;A++){C[A].style.display="none"}}function newBookmark(A){hideEntryForms(A);var B=resetForm(A,bookmarkPortletsData[A].bookmark_forms_empty);B.elements[bookmarkPortletsData[A].entry_form_idPath].value="";B.elements[bookmarkPortletsData[A].entry_form_action].value=bookmarkPortletsData[A].entry_form_action_newBookmark;getNamespacedElement(A,bookmarkPortletsData[A].bookmark_forms_empty+bookmarkPortletsData[A].entry_form_folderPathLabel).innerHTML=bookmarkPortletsData[A].messages_folder_create;setupFolderOptions(B.elements[bookmarkPortletsData[A].entry_reference_folderPath],B.elements[bookmarkPortletsData[A].entry_form_folderPath]);showForm(A,bookmarkPortletsData[A].bookmark_forms_empty,bookmarkPortletsData[A].entry_form_name)}function cancelBookmark(B,A){hideElement(B,A);resetForm(B,A)}function newFolder(A){hideEntryForms(A);var B=resetForm(A,bookmarkPortletsData[A].folder_forms_empty);B.elements[bookmarkPortletsData[A].entry_form_idPath].value="";B.elements[bookmarkPortletsData[A].entry_form_action].value=bookmarkPortletsData[A].entry_form_action_newFolder;getNamespacedElement(A,bookmarkPortletsData[A].folder_forms_empty+bookmarkPortletsData[A].entry_form_folderPathLabel).innerHTML=bookmarkPortletsData[A].messages_folder_create;setupFolderOptions(B.elements[bookmarkPortletsData[A].entry_reference_folderPath],B.elements[bookmarkPortletsData[A].entry_form_folderPath]);showForm(A,bookmarkPortletsData[A].folder_forms_empty,bookmarkPortletsData[A].entry_form_name)}function cancelFolder(B,A){hideElement(B,A);resetForm(B,A)}function newCollection(A){hideEntryForms(A);var B=resetForm(A,bookmarkPortletsData[A].collection_forms_empty);B.elements[bookmarkPortletsData[A].entry_form_idPath].value="";B.elements[bookmarkPortletsData[A].entry_form_action].value=bookmarkPortletsData[A].entry_form_action_newCollection;getNamespacedElement(A,bookmarkPortletsData[A].collection_forms_empty+bookmarkPortletsData[A].entry_form_folderPathLabel).innerHTML=bookmarkPortletsData[A].messages_folder_create;setupFolderOptions(B.elements[bookmarkPortletsData[A].entry_reference_folderPath],B.elements[bookmarkPortletsData[A].entry_form_folderPath]);showForm(A,bookmarkPortletsData[A].collection_forms_empty,bookmarkPortletsData[A].entry_form_name)}function cancelCollection(B,A){hideElement(B,A);resetForm(B,A)}function editEntry(D,C,A,B){if(C=="bookmark"){editBookmark(D,A,B)}else{if(C=="folder"){editFolder(D,A,B)}else{if(C=="collection"){editCollection(D,A,B)}else{alert("Bookmarks Portlet Script Error: type='"+C+"' does not match known types.")}}}}function editBookmark(C,A,B){hideEntryForms(C);var D=resetForm(C,bookmarkPortletsData[C].bookmark_forms_empty);D.elements[bookmarkPortletsData[C].entry_form_idPath].value=B;D.elements[bookmarkPortletsData[C].entry_form_action].value=bookmarkPortletsData[C].entry_form_action_editBookmark;D.elements[bookmarkPortletsData[C].entry_form_name].value=getNamespacedElement(C,bookmarkPortletsData[C].entry_reference_name+B).innerHTML;D.elements[bookmarkPortletsData[C].entry_form_note].value=getNamespacedElement(C,bookmarkPortletsData[C].entry_reference_note+B).innerHTML;getNamespacedElement(C,bookmarkPortletsData[C].bookmark_forms_empty+bookmarkPortletsData[C].entry_form_folderPathLabel).innerHTML=bookmarkPortletsData[C].messages_folder_move;var E=getNamespacedElement(C,bookmarkPortletsData[C].bookmark_reference_url+B);D.elements[bookmarkPortletsData[C].bookmark_form_url].value=E.href;D.elements[bookmarkPortletsData[C].bookmark_form_newWindow].checked=(E.target!="");setupFolderOptions(D.elements[bookmarkPortletsData[C].entry_reference_folderPath],D.elements[bookmarkPortletsData[C].entry_form_folderPath],A,B);showForm(C,bookmarkPortletsData[C].bookmark_forms_empty)}function editFolder(C,A,B){hideEntryForms(C);var D=resetForm(C,bookmarkPortletsData[C].folder_forms_empty);D.elements[bookmarkPortletsData[C].entry_form_idPath].value=B;D.elements[bookmarkPortletsData[C].entry_form_action].value=bookmarkPortletsData[C].entry_form_action_editFolder;D.elements[bookmarkPortletsData[C].entry_form_name].value=getNamespacedElement(C,bookmarkPortletsData[C].entry_reference_name+B).innerHTML;D.elements[bookmarkPortletsData[C].entry_form_note].value=getNamespacedElement(C,bookmarkPortletsData[C].entry_reference_note+B).innerHTML;getNamespacedElement(C,bookmarkPortletsData[C].folder_forms_empty+bookmarkPortletsData[C].entry_form_folderPathLabel).innerHTML=bookmarkPortletsData[C].messages_folder_move;setupFolderOptions(D.elements[bookmarkPortletsData[C].entry_reference_folderPath],D.elements[bookmarkPortletsData[C].entry_form_folderPath],A,B);showForm(C,bookmarkPortletsData[C].folder_forms_empty)}function editCollection(C,A,B){hideEntryForms(C);var D=resetForm(C,bookmarkPortletsData[C].collection_forms_empty);D.elements[bookmarkPortletsData[C].entry_form_idPath].value=B;D.elements[bookmarkPortletsData[C].entry_form_action].value=bookmarkPortletsData[C].entry_form_action_editCollection;D.elements[bookmarkPortletsData[C].entry_form_name].value=getNamespacedElement(C,bookmarkPortletsData[C].entry_reference_name+B).innerHTML;D.elements[bookmarkPortletsData[C].entry_form_note].value=getNamespacedElement(C,bookmarkPortletsData[C].entry_reference_note+B).innerHTML;getNamespacedElement(C,bookmarkPortletsData[C].collection_forms_empty+bookmarkPortletsData[C].entry_form_folderPathLabel).innerHTML=bookmarkPortletsData[C].messages_folder_move;var E=getNamespacedElement(C,bookmarkPortletsData[C].bookmark_reference_url+B);D.elements[bookmarkPortletsData[C].collection_form_url].value=E.href;setupFolderOptions(D.elements[bookmarkPortletsData[C].entry_reference_folderPath],D.elements[bookmarkPortletsData[C].entry_form_folderPath],A,B);showForm(C,bookmarkPortletsData[C].collection_forms_empty)}function deleteEntry(E,D,B,F){var G="";var C=getNamespacedElement(E,bookmarkPortletsData[E].entry_reference_name+B).innerHTML;if(D=="bookmark"){G=G+bookmarkPortletsData[E].messages_delete_bookmark_prefix;G=G+C;G=G+bookmarkPortletsData[E].messages_delete_bookmark_suffix}else{if(D=="folder"){G=G+bookmarkPortletsData[E].messages_delete_folder_prefix;G=G+C;G=G+bookmarkPortletsData[E].messages_delete_folder_suffix}else{G=G+bookmarkPortletsData[E].messages_delete_collection_prefix;G=G+C;G=G+bookmarkPortletsData[E].messages_delete_collection_suffix}}var A=confirm(G);if(A){window.location=F}}function setupErrorForm(C,B,A){var D=getForm(C,B);setupFolderOptions(D.elements[bookmarkPortletsData[C].entry_reference_folderPath],D.elements[bookmarkPortletsData[C].entry_form_folderPath],A,D.elements[bookmarkPortletsData[C].entry_form_idPath].value)}function getNamespacedElement(B,A){return document.getElementById(B+A)}function getNamespacedElements(B,A){return document.getElementsByName(B+A)}function resetForm(B,A){var C=getForm(B,A);C.reset();return C}function getForm(B,A){return document.forms[B+A]}function hideElement(C,A){var B=getNamespacedElement(C,A);B.style.display="none"}function showElement(D,A,C){var B=getNamespacedElement(D,A);B.style.display=C}function showElementBlock(B,A){showElement(B,A,"block")}function showElementInline(B,A){showElement(B,A,"inline")}function showElementTableRow(B,A){showElement(B,A,"")}function isElementHidden(C,A){var B=getNamespacedElement(C,A);
return B.style.display=="none"||(B.style.display==""&&B.className.indexOf("bookmark-hide")>=0)}function showForm(B,A){showForm(B,A,null)}function showForm(B,A,D){showElementBlock(B,A);var C=getForm(B,A);if(!(typeof D=="undefined")){C.elements[D].focus()}}function setupFolderOptions(B,A){setupFolderOptions(B,A,null,null)}function setupFolderOptions(G,B,F,E){B.length=0;for(var A=0,D=0;A<G.options.length;A++){var C=G.options[A];if(typeof E=="undefined"||E==""||C.value.indexOf(E)!=0){B.options[D]=new Option(C.text,C.value);B.options[D].className=C.className;if(!(typeof F=="undefined")&&B.options[D].value==F){B.options[D].selected=true}D++}}}function hideEntryForms(B){cancelBookmark(B,bookmarkPortletsData[B].bookmark_forms_empty);cancelFolder(B,bookmarkPortletsData[B].folder_forms_empty);var D=getForm(B,bookmarkPortletsData[B].bookmark_forms_error);if(typeof D!="undefined"){cancelBookmark(B,bookmarkPortletsData[B].bookmark_forms_error)}var A=getForm(B,bookmarkPortletsData[B].folder_forms_error);if(typeof A!="undefined"){cancelFolder(B,bookmarkPortletsData[B].folder_forms_error)}var C=getForm(B,bookmarkPortletsData[B].collection_forms_error);if(typeof C!="undefined"){cancelCollection(B,bookmarkPortletsData[B].collection_forms_error)}};